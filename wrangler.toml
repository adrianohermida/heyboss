name = "heyboss-ai"
main = "./src/worker/index.ts"
compatibility_date = "2025-04-01"
compatibility_flags = ["nodejs_compat"]
# account_id is read from CLOUDFLARE_ACCOUNT_ID environment variable
# Set via GitHub Actions secret

[observability]
enabled = true

upload_source_maps = true

[env.production]
vars = { ENVIRONMENT = "production", PROJECT_ID = "prod_project_id", USER_EMAIL = "adrianohermida@gmail.com", API_KEY = "prod_api_key", ADMIN_EMAILS = "contato@hermidamaia.adv.br,adrianohermida@gmail.com,adriano@hermidamaia.adv.br" }

[[env.production.routes]]
pattern = "api.hermidamaia.adv.br/*"
zone_name = "hermidamaia.adv.br"

[[env.production.d1_databases]]
binding = "heyboss_db"
database_name = "heyboss_db"
database_id = "223d8197-7c2d-47ab-8b63-4adb9c2998c2"

[[env.production.kv_namespaces]]
binding = "KV"
id = "2b435d2d0966473a9fcdf8aed30d6f67"

[env.staging]
vars = { ENVIRONMENT = "staging", PROJECT_ID = "staging_project_id", USER_EMAIL = "adrianohermida@gmail.com", API_KEY = "staging_api_key", ADMIN_EMAILS = "contato@hermidamaia.adv.br,adrianohermida@gmail.com,adriano@hermidamaia.adv.br" }

[[env.staging.routes]]
pattern = "api-staging.heyboss.com.br/*"
zone_name = "heyboss.com.br"

[[env.staging.d1_databases]]
binding = "heyboss_db"
database_name = "heyboss_db"
database_id = "223d8197-7c2d-47ab-8b63-4adb9c2998c2"

[[env.staging.kv_namespaces]]
binding = "KV"
id = "2b435d2d0966473a9fcdf8aed30d6f67"

[env.development]
vars = { ENVIRONMENT = "development", PROJECT_ID = "project_id", USER_EMAIL = "adrianohermida@gmail.com", API_KEY = "api_key", ADMIN_EMAILS = "contato@hermidamaia.adv.br,adrianohermida@gmail.com,adriano@hermidamaia.adv.br" }

[[env.development.d1_databases]]
binding = "heyboss_db"
database_name = "heyboss_db"
database_id = "223d8197-7c2d-47ab-8b63-4adb9c2998c2"

[[env.development.kv_namespaces]]
binding = "KV"
id = "2b435d2d0966473a9fcdf8aed30d6f67"