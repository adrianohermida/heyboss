import{c as g,r as n,j as e,U as j,S as v,H as y}from"./index-DTAwuCRb.js";import"./supabaseClient-C5ZtDhA7.js";import{C,a as m}from"./form-configs-DngOWwLX.js";import{c as w}from"./themes-DEkYM2tX.js";import{L as N}from"./loader-circle-1b9C2pU7.js";import"./index-fNskMoFt.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],A=g("briefcase",S),_=n.createContext(void 0);function F(){const a=n.useContext(_);if(!a)throw new Error("useAuth must be used within AuthProvider");return a}const k=({email:a,profile:t,isAdmin:o,isColaborador:s,isCliente:r})=>e.jsxs("div",{"data-component-start":"5:2:159","data-component-end":"15:8:702","data-component-path":"src\\react-app\\components\\Profile\\ProfileHeader.tsx","data-component-file":"ProfileHeader.tsx","data-component-name":"div","data-component-class":"bg-brand-elevated p-8 rounded-3xl border border-white/5 text-center",className:"bg-brand-elevated p-8 rounded-3xl border border-white/5 text-center",children:[e.jsx("div",{"data-component-start":"6:4:250","data-component-end":"8:10:425","data-component-path":"src\\react-app\\components\\Profile\\ProfileHeader.tsx","data-component-file":"ProfileHeader.tsx","data-component-name":"div","data-component-class":"w-24 h-24 bg-brand-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",className:"w-24 h-24 bg-brand-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(j,{"data-component-start":"7:6:364","data-component-end":"7:55:413","data-component-path":"src\\react-app\\components\\Profile\\ProfileHeader.tsx","data-component-file":"ProfileHeader.tsx","data-component-name":"User","data-component-class":"text-brand-primary",className:"text-brand-primary",size:48})}),e.jsx("h2",{"data-component-start":"9:4:431","data-component-end":"9:73:500","data-component-path":"src\\react-app\\components\\Profile\\ProfileHeader.tsx","data-component-file":"ProfileHeader.tsx","data-component-name":"h2","data-component-class":"font-bold text-lg",className:"font-bold text-lg",children:(t==null?void 0:t.user_email)||a}),e.jsxs("p",{"data-component-start":"10:4:506","data-component-end":"14:8:692","data-component-path":"src\\react-app\\components\\Profile\\ProfileHeader.tsx","data-component-file":"ProfileHeader.tsx","data-component-name":"p","data-component-class":"text-white/40 text-xs uppercase tracking-widest mt-1",className:"text-white/40 text-xs uppercase tracking-widest mt-1",children:[o&&"Administrador",s&&"Colaborador",r&&"Cliente"]})]}),H=({profile:a,isAdmin:t,isColaborador:o})=>e.jsxs("div",{"data-component-start":"5:2:158","data-component-end":"16:8:717","data-component-path":"src\\react-app\\components\\Profile\\ProfileAccessCard.tsx","data-component-file":"ProfileAccessCard.tsx","data-component-name":"div","data-component-class":"bg-brand-elevated p-6 rounded-2xl border border-white/5 space-y-4",className:"bg-brand-elevated p-6 rounded-2xl border border-white/5 space-y-4",children:[e.jsxs("div",{"data-component-start":"6:4:247","data-component-end":"9:10:431","data-component-path":"src\\react-app\\components\\Profile\\ProfileAccessCard.tsx","data-component-file":"ProfileAccessCard.tsx","data-component-name":"div","data-component-class":"flex items-center gap-3 text-sm",className:"flex items-center gap-3 text-sm",children:[e.jsx(v,{"data-component-start":"7:6:304","data-component-end":"7:57:355","data-component-path":"src\\react-app\\components\\Profile\\ProfileAccessCard.tsx","data-component-file":"ProfileAccessCard.tsx","data-component-name":"Shield","data-component-class":"text-brand-primary",className:"text-brand-primary",size:18}),e.jsx("span",{"data-component-start":"8:6:363","data-component-end":"8:62:419","data-component-path":"src\\react-app\\components\\Profile\\ProfileAccessCard.tsx","data-component-file":"ProfileAccessCard.tsx","data-component-name":"span","data-component-class":"text-white/60",className:"text-white/60",children:"Acesso Verificado"})]}),(t||o)&&e.jsxs("div",{"data-component-start":"11:6:477","data-component-end":"14:12:699","data-component-path":"src\\react-app\\components\\Profile\\ProfileAccessCard.tsx","data-component-file":"ProfileAccessCard.tsx","data-component-name":"div","data-component-class":"flex items-center gap-3 text-sm",className:"flex items-center gap-3 text-sm",children:[e.jsx(A,{"data-component-start":"12:8:536","data-component-end":"12:62:590","data-component-path":"src\\react-app\\components\\Profile\\ProfileAccessCard.tsx","data-component-file":"ProfileAccessCard.tsx","data-component-name":"Briefcase","data-component-class":"text-brand-primary",className:"text-brand-primary",size:18}),e.jsx("span",{"data-component-start":"13:8:600","data-component-end":"13:93:685","data-component-path":"src\\react-app\\components\\Profile\\ProfileAccessCard.tsx","data-component-file":"ProfileAccessCard.tsx","data-component-name":"span","data-component-class":"text-white/60",className:"text-white/60",children:(a==null?void 0:a.area_atuacao)||"Área não definida"})]})]}),E=({profile:a,email:t,isCliente:o,saving:s,handleSave:r,message:c})=>e.jsxs("div",{"data-component-start":"7:2:316","data-component-end":"39:8:1968","data-component-path":"src\\react-app\\components\\Profile\\ProfileForm.tsx","data-component-file":"ProfileForm.tsx","data-component-name":"div","data-component-class":"bg-brand-elevated p-8 rounded-3xl border border-white/5 shadow-xl",className:"bg-brand-elevated p-8 rounded-3xl border border-white/5 shadow-xl",children:[c&&e.jsx("div",{"data-component-start":"9:6:426","data-component-end":"11:12:730","data-component-path":"src\\react-app\\components\\Profile\\ProfileForm.tsx","data-component-file":"ProfileForm.tsx","data-component-name":"div",className:`mb-8 p-4 rounded-xl flex items-center gap-3 ${c.type==="success"?"bg-brand-primary/10 text-brand-primary border border-brand-primary/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:e.jsx("span",{"data-component-start":"10:8:659","data-component-end":"10:65:716","data-component-path":"src\\react-app\\components\\Profile\\ProfileForm.tsx","data-component-file":"ProfileForm.tsx","data-component-name":"span","data-component-class":"text-sm font-bold",className:"text-sm font-bold",children:c.text})}),e.jsxs("div",{"data-component-start":"13:4:744","data-component-end":"15:10:1058","data-component-path":"src\\react-app\\components\\Profile\\ProfileForm.tsx","data-component-file":"ProfileForm.tsx","data-component-name":"div","data-component-class":"mb-6 p-4 rounded-xl bg-brand-primary/10 border border-brand-primary/20 text-xs text-brand-primary",className:"mb-6 p-4 rounded-xl bg-brand-primary/10 border border-brand-primary/20 text-xs text-brand-primary",children:[e.jsx("b",{"data-component-start":"14:6:867","data-component-end":"14:18:879","data-component-path":"src\\react-app\\components\\Profile\\ProfileForm.tsx","data-component-file":"ProfileForm.tsx","data-component-name":"b",children:"LGPD:"})," Seus dados pessoais são utilizados apenas para identificação e contato. Você pode editar ou remover seus dados, exceto o e-mail, que é usado como identificador único."]}),e.jsx(C,{"data-component-start":"16:4:1064","data-component-end":"38:6:1958","data-component-path":"src\\react-app\\components\\Profile\\ProfileForm.tsx","data-component-file":"ProfileForm.tsx","data-component-name":"CustomForm",id:"profile_form",schema:{...m.profile_form.jsonSchema,properties:{...m.profile_form.jsonSchema.properties,user_email:{...m.profile_form.jsonSchema.properties.user_email,readOnly:!0,description:"E-mail não pode ser alterado."},...o?{oab_numero:{...m.profile_form.jsonSchema.properties.oab_numero,hidden:!0},area_atuacao:{...m.profile_form.jsonSchema.properties.area_atuacao,hidden:!0}}:{}},required:["user_email"]},formData:{...a,user_email:t},onSubmit:r,theme:w,labels:{submit:s?"Salvando...":"Salvar Alterações"}})]}),z=()=>e.jsx("div",{"data-component-start":"5:2:106","data-component-end":"7:8:264","data-component-path":"src\\react-app\\components\\Profile\\ProfileSkeleton.tsx","data-component-file":"ProfileSkeleton.tsx","data-component-name":"div","data-component-class":"min-h-screen bg-brand-dark flex items-center justify-center",className:"min-h-screen bg-brand-dark flex items-center justify-center",children:e.jsx(N,{"data-component-start":"6:4:189","data-component-end":"6:69:254","data-component-path":"src\\react-app\\components\\Profile\\ProfileSkeleton.tsx","data-component-file":"ProfileSkeleton.tsx","data-component-name":"Loader2","data-component-class":"text-brand-primary animate-spin",className:"text-brand-primary animate-spin",size:48})}),L=["adrianohermida@gmail.com","contato@hermidamaia.adv.br","admin@example.com"],D=()=>{const{user:a}=F(),[t,o]=n.useState(null),[s,r]=n.useState(!0),[c,P]=n.useState(!1),[h,i]=n.useState(null),l=((a==null?void 0:a.email)||"").toLowerCase(),d=L.includes(l),x=!d&&l.endsWith("@hermidamaia.adv.br"),f=!d&&!x;n.useEffect(()=>{fetch("/api/user/profile").then(p=>p.json()).then(p=>{o(p),r(!1)}).catch(()=>r(!1))},[]);const b=async p=>{P(!0),i(null);try{(await fetch("/api/user/profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})).ok?i({type:"success",text:"Perfil atualizado com sucesso!"}):i({type:"error",text:"Erro ao atualizar perfil."})}catch{i({type:"error",text:"Erro de conexão."})}finally{P(!1)}};return s?e.jsx(z,{"data-component-start":"65:22:2308","data-component-end":"65:41:2327","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"ProfileSkeleton"}):e.jsxs("div",{"data-component-start":"68:4:2348","data-component-end":"89:10:3433","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"min-h-screen bg-brand-dark text-white",className:"min-h-screen bg-brand-dark text-white",children:[e.jsx(y,{"data-component-start":"69:6:2411","data-component-end":"69:16:2421","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"Header"}),e.jsxs("main",{"data-component-start":"70:6:2429","data-component-end":"88:13:3421","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"main","data-component-class":"pt-32 pb-24 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto",className:"pt-32 pb-24 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto",children:[e.jsxs("div",{"data-component-start":"71:8:2508","data-component-end":"78:14:2830","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"mb-12",className:"mb-12",children:[e.jsx("h1",{"data-component-start":"72:10:2543","data-component-end":"72:65:2598","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"h1","data-component-class":"text-3xl font-extrabold",className:"text-3xl font-extrabold",children:"Meu Perfil"}),e.jsxs("p",{"data-component-start":"73:10:2610","data-component-end":"77:14:2814","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"p","data-component-class":"text-white/50 mt-1",className:"text-white/50 mt-1",children:[d&&"Administrador do Escritório",x&&"Colaborador do Escritório",f&&"Cliente"]})]}),e.jsxs("div",{"data-component-start":"79:8:2840","data-component-end":"87:14:3406","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"grid md:grid-cols-3 gap-8",className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{"data-component-start":"80:10:2895","data-component-end":"83:16:3188","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"md:col-span-1 space-y-6",className:"md:col-span-1 space-y-6",children:[e.jsx(k,{"data-component-start":"81:12:2950","data-component-end":"81:131:3069","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"ProfileHeader",email:l,profile:t,isAdmin:d,isColaborador:x,isCliente:f}),e.jsx(H,{"data-component-start":"82:12:3083","data-component-end":"82:99:3170","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"ProfileAccessCard",profile:t,isAdmin:d,isColaborador:x})]}),e.jsx("div",{"data-component-start":"84:10:3200","data-component-end":"86:16:3390","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"md:col-span-2",className:"md:col-span-2",children:e.jsx(E,{"data-component-start":"85:12:3245","data-component-end":"85:139:3372","data-component-path":"src\\react-app\\pages\\ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"ProfileForm",profile:t,email:l,isCliente:f,saving:c,handleSave:b,message:h})})]})]})]})};export{D as default};
