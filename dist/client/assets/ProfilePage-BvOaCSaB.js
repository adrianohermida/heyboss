import{c as j,r as t,j as a,H as v,U as y,S as f}from"./index-CImipbVr.js";import{C as w,a as r}from"./form-configs-DPKfMHlC.js";import{c as N}from"./themes-DEkYM2tX.js";import"./supabaseClient-C5ZtDhA7.js";import{L as C}from"./loader-circle-EylTYG_P.js";import{C as S}from"./circle-check-CyVwGIxa.js";/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],k=j("briefcase",_),E=t.createContext(void 0);function z(){const o=t.useContext(E);if(!o)throw new Error("useAuth must be used within AuthProvider");return o}const A=["adrianohermida@gmail.com","contato@hermidamaia.adv.br","admin@example.com"],V=()=>{const{user:o}=z(),[e,g]=t.useState(null),[P,l]=t.useState(!0),[h,x]=t.useState(!1),[d,c]=t.useState(null),p=((o==null?void 0:o.email)||"").toLowerCase(),n=A.includes(p),m=!n&&p.endsWith("@hermidamaia.adv.br"),i=!n&&!m;t.useEffect(()=>{fetch("/api/user/profile").then(s=>s.json()).then(s=>{g(s),l(!1)}).catch(()=>l(!1))},[]);const b=async s=>{x(!0),c(null);try{(await fetch("/api/user/profile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok?c({type:"success",text:"Perfil atualizado com sucesso!"}):c({type:"error",text:"Erro ao atualizar perfil."})}catch{c({type:"error",text:"Erro de conexão."})}finally{x(!1)}};return P?a.jsx("div",{"data-component-start":"67:6:2203","data-component-end":"69:12:2367","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"min-h-screen bg-brand-dark flex items-center justify-center",className:"min-h-screen bg-brand-dark flex items-center justify-center",children:a.jsx(C,{"data-component-start":"68:8:2289","data-component-end":"68:73:2354","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"Loader2","data-component-class":"text-brand-primary animate-spin",className:"text-brand-primary animate-spin",size:48})}):a.jsxs("div",{"data-component-start":"74:4:2395","data-component-end":"155:10:6499","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"min-h-screen bg-brand-dark text-white",className:"min-h-screen bg-brand-dark text-white",children:[a.jsx(v,{"data-component-start":"75:6:2457","data-component-end":"75:16:2467","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"Header"}),a.jsxs("main",{"data-component-start":"76:6:2474","data-component-end":"154:13:6488","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"main","data-component-class":"pt-32 pb-24 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto",className:"pt-32 pb-24 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto",children:[a.jsxs("div",{"data-component-start":"77:8:2552","data-component-end":"84:14:2867","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"mb-12",className:"mb-12",children:[a.jsx("h1",{"data-component-start":"78:10:2586","data-component-end":"78:65:2641","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"h1","data-component-class":"text-3xl font-extrabold",className:"text-3xl font-extrabold",children:"Meu Perfil"}),a.jsxs("p",{"data-component-start":"79:10:2652","data-component-end":"83:14:2852","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"p","data-component-class":"text-white/50 mt-1",className:"text-white/50 mt-1",children:[n&&"Administrador do Escritório",m&&"Colaborador do Escritório",i&&"Cliente"]})]}),a.jsxs("div",{"data-component-start":"86:8:2877","data-component-end":"153:14:6474","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"grid md:grid-cols-3 gap-8",className:"grid md:grid-cols-3 gap-8",children:[a.jsxs("div",{"data-component-start":"87:10:2931","data-component-end":"112:16:4311","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"md:col-span-1 space-y-6",className:"md:col-span-1 space-y-6",children:[a.jsxs("div",{"data-component-start":"88:12:2985","data-component-end":"98:18:3618","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"bg-brand-elevated p-8 rounded-3xl border border-white/5 text-center",className:"bg-brand-elevated p-8 rounded-3xl border border-white/5 text-center",children:[a.jsx("div",{"data-component-start":"89:14:3085","data-component-end":"91:20:3278","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"w-24 h-24 bg-brand-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",className:"w-24 h-24 bg-brand-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(y,{"data-component-start":"90:16:3208","data-component-end":"90:65:3257","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"User","data-component-class":"text-brand-primary",className:"text-brand-primary",size:48})}),a.jsx("h2",{"data-component-start":"92:14:3293","data-component-end":"92:83:3362","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"h2","data-component-class":"font-bold text-lg",className:"font-bold text-lg",children:(e==null?void 0:e.user_email)||p}),a.jsxs("p",{"data-component-start":"93:14:3377","data-component-end":"97:18:3599","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"p","data-component-class":"text-white/40 text-xs uppercase tracking-widest mt-1",className:"text-white/40 text-xs uppercase tracking-widest mt-1",children:[n&&"Administrador",m&&"Colaborador",i&&"Cliente"]})]}),a.jsxs("div",{"data-component-start":"100:12:3632","data-component-end":"111:18:4294","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"bg-brand-elevated p-6 rounded-2xl border border-white/5 space-y-4",className:"bg-brand-elevated p-6 rounded-2xl border border-white/5 space-y-4",children:[a.jsxs("div",{"data-component-start":"101:14:3730","data-component-end":"104:20:3941","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"flex items-center gap-3 text-sm",className:"flex items-center gap-3 text-sm",children:[a.jsx(f,{"data-component-start":"102:16:3796","data-component-end":"102:67:3847","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"Shield","data-component-class":"text-brand-primary",className:"text-brand-primary",size:18}),a.jsx("span",{"data-component-start":"103:16:3864","data-component-end":"103:72:3920","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"span","data-component-class":"text-white/60",className:"text-white/60",children:"Acesso Verificado"})]}),n||m?a.jsxs("div",{"data-component-start":"106:16:4002","data-component-end":"109:22:4251","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"flex items-center gap-3 text-sm",className:"flex items-center gap-3 text-sm",children:[a.jsx(k,{"data-component-start":"107:18:4070","data-component-end":"107:72:4124","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"Briefcase","data-component-class":"text-brand-primary",className:"text-brand-primary",size:18}),a.jsx("span",{"data-component-start":"108:18:4143","data-component-end":"108:103:4228","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"span","data-component-class":"text-white/60",className:"text-white/60",children:(e==null?void 0:e.area_atuacao)||"Área não definida"})]}):null]})]}),a.jsx("div",{"data-component-start":"114:10:4323","data-component-end":"152:16:6459","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"md:col-span-2",className:"md:col-span-2",children:a.jsxs("div",{"data-component-start":"115:12:4367","data-component-end":"151:18:6442","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"bg-brand-elevated p-8 rounded-3xl border border-white/5 shadow-xl",className:"bg-brand-elevated p-8 rounded-3xl border border-white/5 shadow-xl",children:[d&&a.jsxs("div",{"data-component-start":"117:16:4495","data-component-end":"120:22:4916","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div",className:`mb-8 p-4 rounded-xl flex items-center gap-3 ${d.type==="success"?"bg-brand-primary/10 text-brand-primary border border-brand-primary/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:[d.type==="success"?a.jsx(S,{"data-component-start":"118:48:4767","data-component-end":"118:74:4793","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"CheckCircle2",size:20}):a.jsx(f,{"data-component-start":"118:77:4796","data-component-end":"118:97:4816","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"Shield",size:20}),a.jsx("span",{"data-component-start":"119:18:4836","data-component-end":"119:75:4893","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"span","data-component-class":"text-sm font-bold",className:"text-sm font-bold",children:d.text})]}),a.jsxs("div",{"data-component-start":"124:14:4983","data-component-end":"126:20:5315","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"mb-6 p-4 rounded-xl bg-brand-primary/10 border border-brand-primary/20 text-xs text-brand-primary",className:"mb-6 p-4 rounded-xl bg-brand-primary/10 border border-brand-primary/20 text-xs text-brand-primary",children:[a.jsx("b",{"data-component-start":"125:16:5115","data-component-end":"125:28:5127","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"b",children:"LGPD:"})," Seus dados pessoais são utilizados apenas para identificação e contato. Você pode editar ou remover seus dados, exceto o e-mail, que é usado como identificador único."]}),a.jsx(w,{"data-component-start":"128:14:5331","data-component-end":"150:16:6423","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"CustomForm",id:"profile_form",schema:{...r.profile_form.jsonSchema,properties:{...r.profile_form.jsonSchema.properties,user_email:{...r.profile_form.jsonSchema.properties.user_email,readOnly:!0,description:"E-mail não pode ser alterado."},...i?{oab_numero:{...r.profile_form.jsonSchema.properties.oab_numero,hidden:!0},area_atuacao:{...r.profile_form.jsonSchema.properties.area_atuacao,hidden:!0}}:{}},required:["user_email"]},formData:{...e,user_email:p},onSubmit:b,theme:N,labels:{submit:h?"Salvando...":"Salvar Alterações"}})]})})]})]})]})};export{V as default};
