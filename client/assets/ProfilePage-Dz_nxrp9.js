import{c as u,j as e,U as j,S as v,b as y,r as p,H as C}from"./index-C0OCD8-K.js";import{C as w,a as m}from"./form-configs-DLbUWdJZ.js";import{c as N}from"./themes-DEkYM2tX.js";import{L as S}from"./loader-circle-Bn8gnMLG.js";import"./index-BykweIWy.js";import"./clsx-B-dksMZM.js";const A=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],_=u("briefcase",A),F=({email:t,profile:a,isAdmin:o,isColaborador:r,isCliente:n})=>e.jsxs("div",{"data-component-start":"5:2:155","data-component-end":"15:8:688","data-component-path":"src/react-app/components/Profile/ProfileHeader.tsx","data-component-file":"ProfileHeader.tsx","data-component-name":"div","data-component-class":"bg-brand-elevated p-8 rounded-3xl border border-white/5 text-center",className:"bg-brand-elevated p-8 rounded-3xl border border-white/5 text-center",children:[e.jsx("div",{"data-component-start":"6:4:245","data-component-end":"8:10:418","data-component-path":"src/react-app/components/Profile/ProfileHeader.tsx","data-component-file":"ProfileHeader.tsx","data-component-name":"div","data-component-class":"w-24 h-24 bg-brand-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",className:"w-24 h-24 bg-brand-primary/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(j,{"data-component-start":"7:6:358","data-component-end":"7:55:407","data-component-path":"src/react-app/components/Profile/ProfileHeader.tsx","data-component-file":"ProfileHeader.tsx","data-component-name":"User","data-component-class":"text-brand-primary",className:"text-brand-primary",size:48})}),e.jsx("h2",{"data-component-start":"9:4:423","data-component-end":"9:73:492","data-component-path":"src/react-app/components/Profile/ProfileHeader.tsx","data-component-file":"ProfileHeader.tsx","data-component-name":"h2","data-component-class":"font-bold text-lg",className:"font-bold text-lg",children:a?.user_email||t}),e.jsxs("p",{"data-component-start":"10:4:497","data-component-end":"14:8:679","data-component-path":"src/react-app/components/Profile/ProfileHeader.tsx","data-component-file":"ProfileHeader.tsx","data-component-name":"p","data-component-class":"text-white/40 text-xs uppercase tracking-widest mt-1",className:"text-white/40 text-xs uppercase tracking-widest mt-1",children:[o&&"Administrador",r&&"Colaborador",n&&"Cliente"]})]}),H=({profile:t,isAdmin:a,isColaborador:o})=>e.jsxs("div",{"data-component-start":"5:2:154","data-component-end":"16:8:702","data-component-path":"src/react-app/components/Profile/ProfileAccessCard.tsx","data-component-file":"ProfileAccessCard.tsx","data-component-name":"div","data-component-class":"bg-brand-elevated p-6 rounded-2xl border border-white/5 space-y-4",className:"bg-brand-elevated p-6 rounded-2xl border border-white/5 space-y-4",children:[e.jsxs("div",{"data-component-start":"6:4:242","data-component-end":"9:10:423","data-component-path":"src/react-app/components/Profile/ProfileAccessCard.tsx","data-component-file":"ProfileAccessCard.tsx","data-component-name":"div","data-component-class":"flex items-center gap-3 text-sm",className:"flex items-center gap-3 text-sm",children:[e.jsx(v,{"data-component-start":"7:6:298","data-component-end":"7:57:349","data-component-path":"src/react-app/components/Profile/ProfileAccessCard.tsx","data-component-file":"ProfileAccessCard.tsx","data-component-name":"Shield","data-component-class":"text-brand-primary",className:"text-brand-primary",size:18}),e.jsx("span",{"data-component-start":"8:6:356","data-component-end":"8:62:412","data-component-path":"src/react-app/components/Profile/ProfileAccessCard.tsx","data-component-file":"ProfileAccessCard.tsx","data-component-name":"span","data-component-class":"text-white/60",className:"text-white/60",children:"Acesso Verificado"})]}),(a||o)&&e.jsxs("div",{"data-component-start":"11:6:467","data-component-end":"14:12:686","data-component-path":"src/react-app/components/Profile/ProfileAccessCard.tsx","data-component-file":"ProfileAccessCard.tsx","data-component-name":"div","data-component-class":"flex items-center gap-3 text-sm",className:"flex items-center gap-3 text-sm",children:[e.jsx(_,{"data-component-start":"12:8:525","data-component-end":"12:62:579","data-component-path":"src/react-app/components/Profile/ProfileAccessCard.tsx","data-component-file":"ProfileAccessCard.tsx","data-component-name":"Briefcase","data-component-class":"text-brand-primary",className:"text-brand-primary",size:18}),e.jsx("span",{"data-component-start":"13:8:588","data-component-end":"13:93:673","data-component-path":"src/react-app/components/Profile/ProfileAccessCard.tsx","data-component-file":"ProfileAccessCard.tsx","data-component-name":"span","data-component-class":"text-white/60",className:"text-white/60",children:t?.area_atuacao||"Área não definida"})]})]}),k=({profile:t,email:a,isCliente:o,saving:r,handleSave:n,message:s})=>e.jsxs("div",{"data-component-start":"7:2:310","data-component-end":"39:8:1930","data-component-path":"src/react-app/components/Profile/ProfileForm.tsx","data-component-file":"ProfileForm.tsx","data-component-name":"div","data-component-class":"bg-brand-elevated p-8 rounded-3xl border border-white/5 shadow-xl",className:"bg-brand-elevated p-8 rounded-3xl border border-white/5 shadow-xl",children:[s&&e.jsx("div",{"data-component-start":"9:6:418","data-component-end":"11:12:720","data-component-path":"src/react-app/components/Profile/ProfileForm.tsx","data-component-file":"ProfileForm.tsx","data-component-name":"div",className:`mb-8 p-4 rounded-xl flex items-center gap-3 ${s.type==="success"?"bg-brand-primary/10 text-brand-primary border border-brand-primary/20":"bg-red-500/10 text-red-400 border border-red-500/20"}`,children:e.jsx("span",{"data-component-start":"10:8:650","data-component-end":"10:65:707","data-component-path":"src/react-app/components/Profile/ProfileForm.tsx","data-component-file":"ProfileForm.tsx","data-component-name":"span","data-component-class":"text-sm font-bold",className:"text-sm font-bold",children:s.text})}),e.jsxs("div",{"data-component-start":"13:4:732","data-component-end":"15:10:1044","data-component-path":"src/react-app/components/Profile/ProfileForm.tsx","data-component-file":"ProfileForm.tsx","data-component-name":"div","data-component-class":"mb-6 p-4 rounded-xl bg-brand-primary/10 border border-brand-primary/20 text-xs text-brand-primary",className:"mb-6 p-4 rounded-xl bg-brand-primary/10 border border-brand-primary/20 text-xs text-brand-primary",children:[e.jsx("b",{"data-component-start":"14:6:854","data-component-end":"14:18:866","data-component-path":"src/react-app/components/Profile/ProfileForm.tsx","data-component-file":"ProfileForm.tsx","data-component-name":"b",children:"LGPD:"})," Seus dados pessoais são utilizados apenas para identificação e contato. Você pode editar ou remover seus dados, exceto o e-mail, que é usado como identificador único."]}),e.jsx(w,{"data-component-start":"16:4:1049","data-component-end":"38:6:1921","data-component-path":"src/react-app/components/Profile/ProfileForm.tsx","data-component-file":"ProfileForm.tsx","data-component-name":"CustomForm",id:"profile_form",schema:{...m.profile_form.jsonSchema,properties:{...m.profile_form.jsonSchema.properties,user_email:{...m.profile_form.jsonSchema.properties.user_email,readOnly:!0,description:"E-mail não pode ser alterado."},...o?{oab_numero:{...m.profile_form.jsonSchema.properties.oab_numero,hidden:!0},area_atuacao:{...m.profile_form.jsonSchema.properties.area_atuacao,hidden:!0}}:{}},required:["user_email"]},formData:{...t,user_email:a},onSubmit:n,theme:N,labels:{submit:r?"Salvando...":"Salvar Alterações"}})]}),E=()=>e.jsx("div",{"data-component-start":"5:2:102","data-component-end":"7:8:258","data-component-path":"src/react-app/components/Profile/ProfileSkeleton.tsx","data-component-file":"ProfileSkeleton.tsx","data-component-name":"div","data-component-class":"min-h-screen bg-brand-dark flex items-center justify-center",className:"min-h-screen bg-brand-dark flex items-center justify-center",children:e.jsx(S,{"data-component-start":"6:4:184","data-component-end":"6:69:249","data-component-path":"src/react-app/components/Profile/ProfileSkeleton.tsx","data-component-file":"ProfileSkeleton.tsx","data-component-name":"Loader2","data-component-class":"text-brand-primary animate-spin",className:"text-brand-primary animate-spin",size:48})}),z=["adrianohermida@gmail.com","contato@hermidamaia.adv.br","admin@example.com"],D=()=>{const{user:t}=y(),[a,o]=p.useState(null),[r,n]=p.useState(!0),[s,P]=p.useState(!1),[b,i]=p.useState(null),l=(t?.email||"").toLowerCase(),c=z.includes(l),x=!c&&l.endsWith("@hermidamaia.adv.br"),f=!c&&!x;p.useEffect(()=>{fetch("/api/usuarios_ext").then(d=>d.json()).then(d=>{o(d),n(!1)}).catch(()=>n(!1))},[]);const g=async d=>{P(!0),i(null);try{const{error:h}=await supabase.from("usuarios_ext").upsert([{...d,id:t.id}]);i(h?{type:"error",text:"Erro ao atualizar perfil."}:{type:"success",text:"Perfil atualizado com sucesso!"})}catch{i({type:"error",text:"Erro de conexão."})}finally{P(!1)}};return r?e.jsx(E,{"data-component-start":"62:22:2207","data-component-end":"62:41:2226","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"ProfileSkeleton"}):e.jsxs("div",{"data-component-start":"65:4:2244","data-component-end":"86:10:3308","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"min-h-screen bg-brand-dark text-white",className:"min-h-screen bg-brand-dark text-white",children:[e.jsx(C,{"data-component-start":"66:6:2306","data-component-end":"66:16:2316","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"Header"}),e.jsxs("main",{"data-component-start":"67:6:2323","data-component-end":"85:13:3297","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"main","data-component-class":"pt-32 pb-24 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto",className:"pt-32 pb-24 px-4 sm:px-6 lg:px-8 max-w-4xl mx-auto",children:[e.jsxs("div",{"data-component-start":"68:8:2401","data-component-end":"75:14:2716","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"mb-12",className:"mb-12",children:[e.jsx("h1",{"data-component-start":"69:10:2435","data-component-end":"69:65:2490","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"h1","data-component-class":"text-3xl font-extrabold",className:"text-3xl font-extrabold",children:"Meu Perfil"}),e.jsxs("p",{"data-component-start":"70:10:2501","data-component-end":"74:14:2701","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"p","data-component-class":"text-white/50 mt-1",className:"text-white/50 mt-1",children:[c&&"Administrador do Escritório",x&&"Colaborador do Escritório",f&&"Cliente"]})]}),e.jsxs("div",{"data-component-start":"76:8:2725","data-component-end":"84:14:3283","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"grid md:grid-cols-3 gap-8",className:"grid md:grid-cols-3 gap-8",children:[e.jsxs("div",{"data-component-start":"77:10:2779","data-component-end":"80:16:3069","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"md:col-span-1 space-y-6",className:"md:col-span-1 space-y-6",children:[e.jsx(F,{"data-component-start":"78:12:2833","data-component-end":"78:131:2952","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"ProfileHeader",email:l,profile:a,isAdmin:c,isColaborador:x,isCliente:f}),e.jsx(H,{"data-component-start":"79:12:2965","data-component-end":"79:99:3052","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"ProfileAccessCard",profile:a,isAdmin:c,isColaborador:x})]}),e.jsx("div",{"data-component-start":"81:10:3080","data-component-end":"83:16:3268","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"div","data-component-class":"md:col-span-2",className:"md:col-span-2",children:e.jsx(k,{"data-component-start":"82:12:3124","data-component-end":"82:139:3251","data-component-path":"src/react-app/pages/ProfilePage.tsx","data-component-file":"ProfilePage.tsx","data-component-name":"ProfileForm",profile:a,email:l,isCliente:f,saving:s,handleSave:g,message:b})})]})]})]})};export{D as default};
